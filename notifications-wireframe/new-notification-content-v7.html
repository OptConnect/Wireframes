
<div class="wrap">
  <div class="heading-wrap dark">
    <div class="card-inner"> 
      <h4>Configuration</h4>
    </div>
  </div>
  <div class="card-inner card-top-bottom">
    <x-segment class="stretch yep" of="7">
      <x-major class="stretch yep">
        <div class="stretch column yep notifications-to-wrapper">
          <div class="clear-wrap" style="margin-top: 25px; margin-bottom: 10px">
            <h4>Send Notifications To:</h4>
          </div>
          <div class="wrap stretch flex-grow flex-start">
            <div class="clear-wrap yep" style="margin-top: 5px; margin-bottom: 5px">
              <prime-seg>
                <x-major>
                  <prime-seg class="vertical-center">
                    <x-minor class="primary-email">
                      <div class="is-object"></div>
                      <div class="checkbox-widget">
                        <div class="form-element"><span class="checkbox">
                            <input type="checkbox" name="bobross@megacorp.com" value="bobross@megacorp.com" id="primaryEmail" data-checked="true"/>
                            <label for="primaryEmail">bobross@megacorp.com</label></span>
                        </div>
                      </div>
                    </x-minor>
                    <x-major>
                      <div class="sub default-label">
                         [ <strong>default </strong>]</div>
                    </x-major>
                  </prime-seg>
                  <div class="clear-wrap visible activated" style="margin-top: 15px; margin-bottom: 25px" id="additionalEmailsSection">
                    <h6>Additional Emails</h6>
                    <div class="additional-emails-wrapper">
                      <div class="is-object"></div>
                      <div class="checkbox-widget">
                        <div class="form-element"><span class="checkbox">
                            <input type="checkbox" name="anotherEmail@megacorp.com" value="anotheremail@megacorp.com" id="lz7ii"/>
                            <label for="lz7ii">anotherEmail@megacorp.com</label></span>
                        </div>
                      </div>
                    </div>
                  </div>
                </x-major>
                <x-minor>
                  <div class="add-email modal-trigger" data-target="#userModal"></div>
                  <svg class="active-color-dark add-bubble-solid-icon" width="24px" height="24px" viewBox="0 0 1024 1024" version="1.1" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
                    <path d="M 511.99998,0 C 794.59198,0 1024,229.408 1024,511.99998 1024,794.59198 794.59198,1024 511.99998,1024 229.408,1024 0,794.59198 0,511.99998 0,229.408 229.408,0 511.99998,0 Z m 277.952,548.41598 V 475.55199 H 548.44799 v -241.504 h -72.86401 v 241.504 H 234.07999 v 72.86399 h 241.50399 v 241.504 h 72.86401 v -241.504 z"></path>
                  </svg>
                </x-minor>
              </prime-seg>
            </div>
          </div>
        </div>
      </x-major>
      <x-minor class="stretch yep">
        <div class="notifications-for-wrapper yep">
          <div class="clear-wrap">
            <h4>Notify Me About: </h4>
          </div>
          <div class="wrap notify-me-balance"><a class="select-all2" id="notifyAboutSelectAll">Deselect All</a>
            <prime-seg class="vertical-center">
              <x-minor>
                <div class="is-object"></div>
                <div class="checkbox-widget">
                  <div class="form-element"><span class="checkbox">
                      <input class="type-notify-about" type="checkbox" name="Disconnects/Reconnects" value="disconnects/reconnects" id="disconnectsReconnects" data-checked="true"/>
                      <label for="disconnectsReconnects">Disconnects/Reconnects</label></span>
                  </div>
                </div>
              </x-minor>
              <x-major>
                <svg class="info-icon" width="24px" height="24px" viewBox="0 0 1024 1024" version="1.1" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
                  <path d="m 506.112,102.40003 c -226.15039,0 -409.599984,183.44959 -409.599984,409.59999 0,226.15038 183.449594,409.59996 409.599984,409.59996 226.15039,0 409.59998,-183.44958 409.59998,-409.59996 0,-226.1504 -183.44959,-409.59999 -409.59998,-409.59999 z m 0,86.6304 c 178.30399,0 322.96958,144.63999 322.96958,322.96959 0,178.32958 -144.63999,322.96956 -322.96958,322.96956 -178.30399,0 -322.96959,-144.63998 -322.96959,-322.96956 0,-178.3296 144.64,-322.96959 322.96959,-322.96959 z M 454.40001,730.1632 c 0,-92.05759 0,-184.14079 0,-276.19838 34.6112,0 69.22239,0 103.83359,0 0,92.05759 0,184.14079 0,276.19838 -34.6112,0 -69.22239,0 -103.83359,0 z m -8.2432,-390.52797 c 0,-32.33281 27.62239,-57.13921 59.95519,-57.13921 32.3328,0 59.9552,24.8064 59.9552,57.13921 0,32.33279 -27.6224,57.13919 -59.9552,57.13919 -32.3328,0 -59.95519,-24.8064 -59.95519,-57.13919 z"></path>
                </svg>
              </x-major>
            </prime-seg>
            <div class="is-object"></div>
            <div class="checkbox-widget">
              <div class="form-element"><span class="checkbox">
                  <input class="type-notify-about trigger" type="checkbox" name="Check-Ins" value="check-ins" id="checkIns" data-checked="true" data-target="#checkInThreshold"/>
                  <label for="checkIns">Check-Ins</label></span>
              </div>
            </div>
            <div class="drawer activated" id="checkInThreshold">
              <h6>Notify After: </h6>
              <p class="pseudo-sub">Send alert if a device hasn't checked in for over:</p>
              <prime-seg>
                <x-minor>
                  <div class="rack vertical-center">
                    <select class="notify-time-box">
                      <option value="">1</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                      <option value="5">5</option>
                      <option value="6">6</option>
                      <option value="7">7</option>
                      <option value="8">8</option>
                      <option value="9">9</option>
                      <option value="10">10</option>
                      <option value="11">11</option>
                      <option value="12">12</option>
                    </select>
                    <div>
                      <h6>hour</h6>
                    </div>
                  </div>
                </x-minor>
                <x-major>
                  <div class="rack vertical-center">
                    <select class="notify-time-box">
                      <option value="">00</option>
                      <option value="15">15</option>
                      <option value="30">30</option>
                      <option value="45">45</option>
                    </select>
                    <div>
                      <h6>minutes</h6>
                    </div>
                  </div>
                </x-major>
              </prime-seg>
            </div>
            <div>
              <div class="is-object"></div>
              <div class="checkbox-widget">
                <div class="form-element"><span class="checkbox">
                    <input class="type-notify-about" type="checkbox" name="WAN Failovers To Cellular" value="wan-failovers-to-cellular" id="failoverToCellular" data-checked="true"/>
                    <label for="failoverToCellular">WAN Failovers To Cellular</label></span>
                </div>
              </div>
            </div>
            <div>
              <div class="is-object"></div>
              <div class="checkbox-widget">
                <div class="form-element"><span class="checkbox">
                    <input class="type-notify-about" type="checkbox" name="Cellular to WAN" value="cellular-to-wan" id="cellularToWan" data-checked="true"/>
                    <label for="cellularToWan">Cellular to WAN</label></span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </x-minor>
    </x-segment>
    <div class="clear-wrap" style="margin-top: 45px; margin-bottom: 25px">
      <x-segment of="5">
        <x-major> 
          <div class="notifications-to-wrapper">
            <h4>Include Notifications From: </h4>
            <div class="check-all-orgs">
              <div class="clear-wrap" style="margin-top: 0px; margin-bottom: 0px">
                <div class="is-object"></div>
                <div class="checkbox-widget">
                  <div class="form-element"><span class="checkbox">
                      <input type="checkbox" name="All Orgs" value="all-orgs" id="allOrgs" data-checked="true"/>
                      <label for="allOrgs">All Orgs</label></span>
                  </div>
                </div>
              </div>
            </div>
            <div class="clear-wrap"> 
              <div class="wrap">
                <prime-seg class="vertical-center">
                  <x-minor>
                    <div class="is-object"></div>
                    <div class="rack compress">
                      <div class="checkbox-widget">
                        <div class="form-element"><span class="checkbox">
                            <input class="type-org type-org-family" type="checkbox" value="veridian-dynamics" id="firstOrg" data-checked="true"/>
                            <label for="firstOrg">Veridian Dynamics</label></span></div>
                      </div>
                    </div>
                  </x-minor>
                  <x-major>
                    <svg class="trigger arrow-down-icon" width="24px" height="24px" viewBox="0 0 1024 1024" version="1.1" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" data-target="#firstOrgDrawer">
                      <path d="M 213.32798,277.328 H 810.67201 L 512.01598,746.67199 Z"></path>
                    </svg>
                  </x-major>
                </prime-seg>
                <div class="drawer" id="firstOrgDrawer"><a class="select-all" id="firstOrgSelectAll">Select All</a>
                  <div class="clear-wrap suborg" style="margin-top: 5px; margin-bottom: 25px">
                    <div class="is-object"></div>
                    <div class="checkbox-widget">
                      <div class="form-element"><span class="checkbox">
                          <input class="type-suborg1" type="checkbox" name="Jabberwocky Project" value="jabberwocky-project" id="suborg1"/>
                          <label for="suborg1">Jabberwocky Project</label></span>
                      </div>
                    </div>
                  </div>
                  <div class="clear-wrap suborg">
                    <div class="is-object"></div>
                    <div class="checkbox-widget">
                      <div class="form-element"><span class="checkbox">
                          <input class="type-suborg1" type="checkbox" name="Green Initiative" value="green-initiative" id="suborg2"/>
                          <label for="suborg2">Green Initiative</label></span>
                      </div>
                    </div>
                  </div>
                  <div class="clear-wrap suborg">
                    <div class="is-object"></div>
                    <div class="checkbox-widget">
                      <div class="form-element"><span class="checkbox">
                          <input class="type-suborg1" type="checkbox" name="Assistant Program" value="assistant-program" id="suborg3"/>
                          <label for="suborg3">Assistant Program</label></span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="wrap">
                <prime-seg class="vertical-center">
                  <x-minor>
                    <div class="is-object"></div>
                    <div class="checkbox-widget">
                      <div class="form-element"><span class="checkbox">
                          <input class="type-org type-org-family" type="checkbox" name="Looney Tunes-OC" value="looney-tunes-oc" id="secondOrg" data-checked="true"/>
                          <label for="secondOrg">Looney Tunes-OC</label></span>
                      </div>
                    </div>
                  </x-minor>
                  <x-major>
                    <svg class="trigger arrow-down-icon" width="24px" height="24px" viewBox="0 0 1024 1024" version="1.1" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" data-target="#secondOrgDrawer">
                      <path d="M 213.32798,277.328 H 810.67201 L 512.01598,746.67199 Z"></path>
                    </svg>
                  </x-major>
                </prime-seg>
                <div class="drawer" id="secondOrgDrawer">
                  <div class="clear-wrap suborg">
                    <div class="is-object"></div>
                    <div class="checkbox-widget">
                      <div class="form-element"><span class="checkbox">
                          <input class="type-suborg2" type="checkbox" name="The Jade Group" value="the-jade-group" id="suborg4"/>
                          <label for="suborg4">The Jade Group</label></span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </x-major>
      </x-segment>
    </div>
  </div>
</div>
<script>
  _$('[data-checked="true"]').attr('checked', 'checked');
  
  //- _$('[type="checkbox"]').vanilla.addEventListener('change', (e) => {
  //- 	if (_$(e.target).vanilla.checked) {
  //- 		e.target.removeAttribute('checked');
  //- 	}
  //- 	else {
  //- 		e.target.attr('checked', 'checked');
  //- 	}
  //- });
  
  _$('#allOrgs').vanilla.addEventListener('change', (e) => {
      if (_$(e.target).vanilla.checked) {
          _$('.type-org-family').attr('checked', 'checked');
          
      }
      else if (!_$(e.target).vanilla.checked) {
          _$('.type-org-family').items.forEach((_item_) => {
              _item_.removeAttribute('checked');
          });
      }
  });
  
  _$('#firstOrgSelectAll').click((e) => {
      if (_$(e.target).hasClass('all')) {
          _$(e.target).removeClass('all').vanilla.innerHTML = 'Select All';
          _$('.type-suborg1').items.forEach((_item_) => {
              _item_.removeAttribute('checked');
          });
      }
      else if (!_$(e.target).hasClass('all')) {
          _$(e.target).addClass('all').vanilla.innerHTML = 'Deselect All';
          _$('.type-suborg1').attr('checked', 'checked');
      }
  });
  
  _$('#notifyAboutSelectAll').click((e) => {
      if (_$(e.target).hasClass('all')) {
          _$(e.target).removeClass('all').vanilla.innerHTML = 'Select All';
          _$('.type-notify-about').items.forEach((_item_) => {
              _item_.removeAttribute('checked');
          });
      }
      else if (!_$(e.target).hasClass('all')) {
          _$(e.target).addClass('all').vanilla.innerHTML = 'Deselect All';
          _$('.type-notify-about').attr('checked', 'checked');
      }
  });
  
  _$('.type-suborg1').items.forEach((_item_) => {
      _item_.addEventListener('change', (e) => {
          if (_$('.type-suborg1:checked').items.length == _$('.type-suborg1').items.length) {
              _$('#firstOrgSelectAll').vanilla.innerHTML = 'Deselect All';
          }
          else {
              _$('#firstOrgSelectAll').vanilla.innerHTML = 'Select All';
          }
      });
  });
  
  //- _$('#addEmailBtn').click(() => {
  //-     _$('').vanilla.addEventListener('click', () => {
  //-         const last = _$('#additionalEmails').items.length - 1;
  //-         const container = _$('').items[last];
  //-         container.innerHTML = addEmail.value;
          
  //-     });
  //- });
  
  
  if (!localData['newNotificationV7']['additionalEmailInput']) {
      _$('#additionalEmailsSection').removeClass('activated');
  }
  else {
      _$('.additional-emails-wrapper .checkbox-widget label').vanilla.innerHTML = localData['newNotificationV7']['additionalEmailInput'];
  }
  
  _$('body').delegate('#addEmailBtn', 'click', (e) => {
      if (!localData['newNotificationV7']['additionalEmailInput']) {
          _$('#additionalEmailsSection').removeClass('activated');
      }
      else {
          _$('#additionalEmailsSection').addClass('activated');
          _$('.additional-emails-wrapper input').attr('checked', 'checked');
          _$('.additional-emails-wrapper .checkbox-widget label').vanilla.innerHTML = localData['newNotificationV7']['additionalEmailInput'];
      }
  });
</script>